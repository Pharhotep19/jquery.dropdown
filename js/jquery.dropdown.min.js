/*!
 *
 *	jQuery Dropdown
 *
 *	http://danewilliams.uk/projects/jquery-dropdown
 *	https://github.com/daneWilliams/jquery.dropdown
 *
 *	================================================================
 *
 *	@version		1.1.3
 *
 *	@author			Dane Williams <dane@danewilliams.uk>
 *	@copyright		2014 Dane Williams
 *	@license		MIT License
 *
 */

!function(e,t,n,o){dropdown=function(t,n){var o=this;o.elem=t,o.$elem=e(t),o.instance={uid:null,items:{},menus:{},menu:{current:null,main:null},above:!1,open:!1,opening:!1,closing:!1,animating:!1,resizing:!1,resetting:!1,selected:null,focused:null,value:null,resizeTimeout:null},o.elements={},o.options=n,o.metadata=o.$elem.data("dropdown"),o.init()},dropdown.prototype={init:function(){var t=this;t.options=e.extend(!0,{},t.defaults,t.options,t.metadata),t.templates=e.extend(!0,{},t.templates,t.options.templates),t.classes=t._mergeClasses();var o=n.createElement("p").style,i="transition"in o||"WebkitTransition"in o||"MozTransition"in o||"msTransition"in o||"OTransition"in o;i||(t.options.animate=!1),t._buildDropdown(),t._populate(),t._bindEvents(),t.$elem.trigger("dropdown-init",t)},open:function(n){var o=this,i=o.instance,s=o.options,l=o.elements,a=o.classes;if(!i.opening&&!i.closing){if(n)return void o.openMenu(n);if(o._beforeOpen(),!s.animate)return void o._afterOpen();var r={opacity:0,y:-(l.toggleButton.outerHeight()/2)},d={opacity:1,y:0};i.above&&(r.y=l.toggleButton.outerHeight()/2);var u="fixed"==l.menuWrapper.css("position")?!0:!1;u&&(r={opacity:0},d={opacity:1},e(t).width()>e(t).height()?(r.y="100%",d.y=0):(r.x="100%",d.x=0)),i.animating=!0,l.dropdown.addClass(a.animating),l.menuWrapper.show().css(r),u&&l.overlay.show().css({opacity:0}).transition({opacity:1},s.speed),l.menuWrapper.transition(d,s.speed,function(){i.animating=!1,l.dropdown.removeClass(a.animating),o._afterOpen()})}},close:function(n){var o=this,i=o.instance,s=o.options,l=o.elements,a=o.classes;if(i.open&&!i.closing&&!i.opening){if(n)return void o.closeMenu(n);if(o._beforeClose(),!s.animate)return void o._afterClose();var r={opacity:1,y:0},d={opacity:0,y:-(l.toggleButton.outerHeight()/2)};i.above&&(d.y=l.toggleButton.outerHeight()/2);var u="fixed"==l.menuWrapper.css("position")?!0:!1;u&&(r={opacity:1},d={opacity:0},e(t).width()>e(t).height()?(r.y=0,d.y="100%"):(r.x=0,d.x="100%")),i.animating=!0,l.dropdown.addClass(a.animating),l.menuWrapper.show().css(r),u&&l.overlay.transition({opacity:0},s.speed),l.menuWrapper.transition(d,s.speed,function(){i.animating=!1,l.dropdown.removeClass(a.animating),l.menuWrapper.hide(),o._afterClose()})}},openMenu:function(e,t){var n=this,o=n.instance,i=n.options,s=n.elements,l=n.classes;if(!o.opening){e=n.getMenu(e);var a=n.getMenu();if(n._beforeOpenMenu(e,a),t||!i.animate||e.uid==a.uid)return void n._afterOpenMenu(e,a);var r={x:"100%"};e.elem.show().css(r),a.elem.css({x:0});var d={x:0};o.animating=!0,s.dropdown.addClass(l.animating),a.elem.transition({x:"-100%"},i.speed),e.elem.transition(d,i.speed,function(){o.animating=!1,s.dropdown.removeClass(l.animating),n._afterOpenMenu(e,a)})}},closeMenu:function(e){var t=this,n=t.instance,o=t.options,i=t.elements,s=t.classes;if(!n.closing){e=t.getMenu(e);var l=!1;if(e.parent)var a=t.getItem(e.parent),l=t.getMenu(a.menu);if(t._beforeCloseMenu(e,l),!o.animate||!l)return l||t.close(),void t._afterCloseMenu(e,l);var r={x:0};e.elem.css(r),l.elem.show().css({x:"-100%"});var d={x:"100%"};n.animating=!0,i.dropdown.addClass(s.animating),l.elem.transition({x:0},o.speed),e.elem.transition(d,o.speed,function(){n.animating=!1,i.dropdown.removeClass(s.animating),t._afterCloseMenu(e,l)})}},resize:function(n,o){var i=this,s=i.instance,l=i.options,a=i.objects,r=i.elements,d=i.classes;if(!s.resizing){var u=o?!1:n?!0:!1;n&&(n=i.getMenu(n)),n||(n=i.getMenu());var p=e.extend(!0,{},a.resize);i._beforeResize(n,p),p.height.viewport=e(t).height(),p.width.viewport=e(t).width(),s.open||r.menuWrapper.show().css({opacity:0}),p.height.wrapper=r.menuWrapper.outerHeight(!0),p.width.wrapper=r.menuWrapper.outerWidth(!0),p.height.diff=p.height.wrapper-r.menuWrapper.height(),p.width.diff=p.width.wrapper-r.menuWrapper.width(),n.elem.show().css({opacity:0,position:"fixed",height:"",width:""});var c=n.elem.children("."+d.core.menuList).eq(0);c.css({height:"",width:""}),p.height.list=c.height(),p.width.list=c.width(),p.height.menu=n.elem.outerHeight(!0),p.width.menu=n.elem.outerWidth(!0);{i._collisionValues(n,p)}return s.open||r.menuWrapper.css({display:"",opacity:""}),n.elem.css({display:"",opacity:"",position:""}),c.css({height:p.collision.height.list}),u&&l.animate?(r.menuWrapper.transition({height:p.collision.height.menu},l.speed,function(){i._afterResize(n,p)}),p):(r.menuWrapper.css({height:p.collision.height.menu}),i._afterResize(n,p),p)}},reset:function(e){var t=this,n=(t.instance,t.options,t.elements,t.classes,t.getMenu("default")),o=t.getMenu();t._beforeReset(e,n,o),t._afterReset(e,n,o)},select:function(n){var o=this,i=o.instance,s=o.options,l=o.elements,a=o.classes;if(n=o.getItem(n)){if(n.selectable&&n.children.menu)return void o.openMenu(n.children.menu);if(!n.selectable)return void(n.href&&(t.location.href=n.href));var r=!1;if(s.multiple||(r=o.getItem(i.selected)),r.uid==n.uid&&(r=!1),o._beforeSelect(n,r),s.multiple)if(i.selected||(i.selected=[]),n.selected){n.selected=!1,n.elem.removeClass(a.selected);var d=e.inArray(n.uid,i.selected);i.selected.splice(d,1)}else n.selected=!0,n.elem.addClass(a.selected),i.selected.push(n.uid);else r&&(r.selected=!1,r.elem.removeClass(a.selected)),i.selected=n.uid,n.selected=!0,n.elem.addClass(a.selected);o.selectParent(n),r&&o.selectParent(r),s.autoToggle&&(l.dropdown.find("."+a.core.selected).length?s.multiple?o.toggleTextMulti(n.text):o.toggleText(n.text):s.multiple?o.toggleTextMulti():o.toggleText()),s.multiple||o.close(),o._afterSelect(n,r)}},selectParent:function(t){var n=this,o=(n.settings,n.elements,n.classes),i=n.getItem(t.parent);if(!i)return!1;if(t.selected)i.selected=!0,i.elem.addClass(o.selected);else{var s=0;e.each(i.children.items,function(e,t){var o=n.getItem(t);o&&o.selected&&s++}),s||(i.selected=!1,i.elem.removeClass(o.selected))}i.parent&&n.selectParent(i)},focus:function(e){var t=this,n=t.instance,o=(t.options,t.classes);if(n.focused){var i=t.getItem(n.focused);i.elem.removeClass(o.focused),n.focused=null}e&&(e=t.getItem(e),e&&(e.elem.addClass(o.focused),n.focused=e.uid))},getItem:function(e){var t=this,n=t.instance,o=t.elements;if(!e)return!1;if("string"==typeof e){if(n.items[e])return n.items[e];if(!o.dropdown.find("#"+e).length)return!1;e=o.dropdown.find("#"+e)}if(e.jquery){var i=e.data("dropdown-uid");return i&&n.items[i]?n.items[i]:!1}return"object"!=typeof e?!1:e},getMenu:function(e){var t=this,n=t.instance,o=t.elements,i=t.getItem(e);if(i&&(e=i.menu),e||(e=n.menu.current),"default"==e&&(e=n.menu.main),"string"==typeof e){if(n.menus[e])return n.menus[e];if(!o.dropdown.find("#"+e).length)return!1;e=o.dropdown.find("#"+e)}if(e.jquery){var s=e.data("dropdown-uid");return s&&n.menus[s]?n.menus[s]:!1}return!1},addItem:function(t,n){var o=this,i=o.instance,s=o.options,l=t,a=[];return n=o.getMenu(n),e.each(l,function(t,l){if(l=e.extend(!0,{},o.objects.item,l),l.uid||(l.uid=o.getID()),l.menu||(l.menu=n.uid),i.items[l.uid]=l,a.push(l),l.selected&&!l.children.items&&(s.multiple?(i.selected||(i.selected=[]),i.selected.push(l.uid),s.autoToggle&&o.toggleTextMulti(l.text)):(i.selected=l.uid,s.autoToggle&&o.toggleText(l.text))),l.children.items.length){if(!l.children.menu){var r=o.addMenu([{parent:l.uid,title:l.children.title}]);l.children.menu=r[0].uid}var d=o.addItem(l.children.items,l.children.menu);l.children.items=[],e.each(d,function(e,t){i.items[t.uid].parent=l.uid,l.children.items.push(t.uid),t.selected&&(l.selected=!0)})}l.elem=o._buildItem(l)}),a},addMenu:function(t){var n=this,o=n.instance,i=n.options,s=n.classes,l=t,a=[];return e.each(l,function(t,l){if(l=e.extend(!0,{},n.objects.menu,l),l.uid||(l.uid=n.getID()),o.menus[l.uid]=l,a.push(l),!l.title&&(l.title=i.titleText,i.autoTitle&&l.parent)){var r=n.getItem(l.parent);r&&(l.title=r.text)}l.elem=n._buildMenu(l),l.items&&n.addItem(l.items,l.uid),o.menu.main||(o.menu.main=l.uid,o.menu.current=l.uid,l.open=!0,l.elem.addClass(s.menuOpen))}),a},getID:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});return e},titleText:function(e,t){var n=this,o=(n.elements,n.classes);if(t=n.getMenu(t)){var i=t.elem.find("."+o.core.menuTitle);e?(t.elem.data("dropdown-title")||t.elem.data("dropdown-title",i.html()),i.html(e)):i.html(t.elem.data("dropdown-title"))}},toggleText:function(e){var t=this,n=t.elements;e?(n.toggleButton.data("dropdown-text")||n.toggleButton.data("dropdown-text",n.toggleText.text()),n.toggleText.html(e)):n.toggleText.html(n.toggleButton.data("dropdown-text"))},toggleTextMulti:function(e){var t=this,n=t.elements,o=n.toggleButton.data("dropdown-text-multi");if(e){n.toggleButton.data("dropdown-text")||n.toggleButton.data("dropdown-text",n.toggleText.text()),o||(o=[]);var i=o.indexOf(e);if(-1!=i?o.splice(i,1):o.push(e),o)var s=o.join(", ");else var s=n.toggleButton.data("dropdown-text");n.toggleButton.data("dropdown-text-multi",o),n.toggleText.html(s)}else o=[],n.toggleButton.data("dropdown-text-multi",o),n.toggleText.html(n.toggleButton.data("dropdown-text"))},_bindEvents:function(){var o=this,i=o.instance,s=o.options,l=o.classes,a=o.elements;o.$elem.on("dropdown-toggle",function(){i.open?o.close():o.open()}),a.toggleButton.on("click",function(e){e.preventDefault(),o.$elem.trigger("dropdown-toggle")}),a.dropdown.on("open",function(){o.open()}),a.dropdown.on("close",function(){o.close()}),a.dropdown.on("click","."+l.core.closeButton,function(e){e.preventDefault(),o.close()}),a.dropdown.on("click","."+l.core.menuItem,function(t){t.preventDefault();var n=e(this).data("dropdown-uid");o.select(n)}),a.dropdown.on("click","."+l.core.backButton,function(e){e.preventDefault(),o.closeMenu()}),s.autoClose&&e(n).on("mousedown",function(t){var n=e(t.target),o=n.parents("."+l.core.dropdown);return o.length?void 0:void e("."+l.core.open).trigger("close")}),s.autoResize&&e(t).resize(function(){i.resizeTimeout&&clearTimeout(i.resizeTimeout),i.resizeTimeout=setTimeout(function(){o._autoResize()},s.autoResize)}),s.keyboard&&e(n).on("keypress",function(e){if(i.open||a.toggleButton.is(":focus")){var t=i.focused;t&&(t=o.getItem(t));var n=e.keyCode?e.keyCode:e.which;switch(n){case 9:a.toggleButton.is(":focus")&&i.open&&(e.preventDefault(),o.close());break;case 13:if(e.preventDefault(),t)if(t.children.menu){var s=o.getMenu(t.children.menu),r=s.elem.find("."+l.core.menuItem);s.elem.find("."+l.core.selected).length&&(r=s.elem.find("."+l.core.selected)),o.focus(r.eq(0)),o.open(t.children.menu)}else o.select(t);else a.toggleButton.is(":focus")&&(i.open?o.close():o.open());break;case 27:i.open&&(e.preventDefault(),o.close());break;case 40:e.preventDefault();var s=o.getMenu();if(a.toggleButton.is(":focus")&&!i.open){o.open();var r=s.elem.find("."+l.core.menuItem);s.elem.find("."+l.core.selected).length&&(r=s.elem.find("."+l.core.selected)),o.focus(r.eq(0))}else if(!t){var r=s.elem.find("."+l.core.menuItem);s.elem.find("."+l.core.selected).length&&(r=s.elem.find("."+l.core.selected),r.next().length&&(r=r.next())),o.focus(r.eq(0))}t&&t.elem.next().length&&o.focus(t.elem.next());break;case 37:if(i.open&&i.menu.main!=i.menu.current){e.preventDefault();var s=o.getMenu(),d=o.getItem(s.parent);o.closeMenu(),o.focus(d)}break;case 38:i.open&&t&&(e.preventDefault(),t.elem.prev().length?o.focus(t.elem.prev()):(o.focus(!1),a.toggleButton.focus()));break;case 39:if(i.open&&t&&t.children.menu){e.preventDefault();var s=o.getMenu(t.children.menu),r=s.elem.find("."+l.core.menuItem);s.elem.find("."+l.core.selected).length&&(r=s.elem.find("."+l.core.selected)),o.focus(r.eq(0)),o.open(t.children.menu)}}}})},_buildDropdown:function(){var t=this,n=t.options,o=t.classes,i=(t.templates,t.elements);e.each(t.templates,function(t,n){i[t]=e(n),o[t]&&i[t].addClass(o[t])});var s=t.getID();t.instance.uid=s,i.dropdown.data("dropdown-uid",s),i.overlay.appendTo(i.dropdown),i.menuWrapper.appendTo(i.dropdown),i.menuContainer.appendTo(i.menuWrapper),i.menuMask.prependTo(i.menuWrapper);var l=n.toggleElem.button?e(n.toggleElem.button):!1;l&&!l.length&&(n.toggleElem.button=!1,l=!1),l?i.toggleButton=l:(i.toggleIcon.appendTo(i.toggleButton),i.toggleText.appendTo(i.toggleButton)),i.toggleButton.eq(0).appendTo(i.dropdown);var a=n.toggleElem.text?e(n.toggleElem.text):!1;a&&!a.length&&(n.toggleElem.text=!1,a=!1),a?i.toggleText=a:l&&(i.toggleText=i.toggleButton),i.toggleText.html(n.toggleText),t.elements=i,t.$elem.hide().after(i.dropdown),t.$elem.attr("id")&&i.dropdown.attr("id",t.$elem.attr("id")+"-dropdown"),t.addMenu([{}])},_buildItem:function(t){var n=this,o=n.classes,i=n.templates,s=(n.elements,n.getMenu(t.menu));if(s){var l=e(i.menuItem).addClass(o.menuItem);if(t.html)e(t.html).appendTo(l);else{var a=e(i.menuLink).addClass(o.menuLink).appendTo(l),r=e(i.menuText).addClass(o.menuText).appendTo(a);if(t.href&&a.attr("href",t.href),r.html(t.text),t.children.items){e(i.iconNext).addClass(o.iconNext).prependTo(a)}}return l.data("dropdown-uid",t.uid),t.id&&l.attr("id",t.id),t.selected&&l.addClass(o.selected),s.elem.children("."+o.core.menuList).append(l),l}},_buildMenu:function(t){{var n=this,o=n.options,i=n.classes,s=n.templates,l=n.elements,a=e(s.menuObject).clone().addClass(i.menuObject),r=e(s.menuHeader).addClass(i.menuHeader).appendTo(a),d=e(s.menuTitle).addClass(i.menuTitle).appendTo(r),u=e(s.closeButton).addClass(i.closeButton).appendTo(r),p=e(s.backButton).addClass(i.backButton).prependTo(r),c=(e(s.closeIcon).addClass(i.closeIcon).appendTo(u),e(s.closeText).addClass(i.closeText).appendTo(u)),m=(e(s.backIcon).addClass(i.backIcon).appendTo(p),e(s.backText).addClass(i.backText).appendTo(p));e(s.menuList).addClass(i.menuList).appendTo(a)}return t.parent&&a.addClass(i.menuChild),d.html(t.title),c.html(o.closeText),m.html(o.backText),a.data("dropdown-uid",t.uid),t.id&&a.attr("id",t.id),l.menuContainer.append(a),a},_populate:function(){var e=this;if(e.$elem.children().length){var t=e.$elem.prop("tagName");return"SELECT"==t?void e._populateSelect():"UL"==t||"OL"==t?void e._populateList():void 0}},_populateSelect:function(t){var n=this,o=[],i=t?t:n.$elem;return i.children().each(function(){var t=e(this),i={uid:n.getID(),text:"",value:null,children:{items:!1}};if("OPTGROUP"==t.prop("tagName")){i.text=t.attr("label");var s=n._populateSelect(t);i.children.items=[],e.each(s,function(t,n){i.children.items.push(e.extend({},n,{parent:i.uid}))})}else i.text=t.text(),i.value=t.attr("value"),i.value||"0"===i.value||(i.value=i.text),t.is(":selected")&&(i.selected=!0);o.push(i)}),t?o:void n.addItem(o)},_populateList:function(t){var n=this,o=n.classes,i=[],s=t?t:n.$elem;return s.children().each(function(){var t=e(this),s={text:"",value:null,children:{items:!1}};if(s=e.extend({},s,t.data("dropdown")),s.uid||(s.uid=n.getID()),t.children("ul, ol").length){var l=n._populateList(t.children("ul, ol"));s.children.items=[],e.each(l,function(t,n){s.children.items.push(e.extend({},n,{parent:s.uid}))})}else s.text||(s.text=t.html());if(t.data("dropdown-text")&&(s.text=t.data("dropdown-text")),t.children("span").length){var a=t.children("span");t.data("dropdown-text")?s.header||(s.header=a.html()):s.text=a.html()}if(t.children("a").length){var r=t.children("a");s.href=r.attr("href"),s.text=r.html()}t.hasClass(o.core.selected)&&(s.selected=!0),i.push(s)}),t?i:void n.addItem(i)},_beforeOpen:function(){var t=this,n=t.instance,o=t.elements,i=t.classes;n.opening=!0;var s=t.resize(!1,!0);"top"==s.collision.position.y?(o.dropdown.removeClass(i.below),o.dropdown.addClass(i.above),n.above=!0):(o.dropdown.removeClass(i.above),o.dropdown.addClass(i.below),n.above=!1),t._scrollSelected(!1,s),o.dropdown.addClass(i.opening),e("html").addClass(i.pageOpening),e("."+i.core.open).trigger("close"),t.$elem.trigger("dropdown-before-open",t)},_afterOpen:function(){var t=this,n=t.instance,o=t.elements,i=t.classes;n.opening=!1,n.open=!0,o.dropdown.removeClass(i.opening),o.dropdown.addClass(i.open),e("html").removeClass(i.pageOpening).addClass(i.pageOpen),o.toggleButton.focus(),t.$elem.trigger("dropdown-after-open",t)},_beforeClose:function(){var t=this,n=t.instance,o=t.elements,i=t.classes;n.closing=!0,o.dropdown.addClass(i.closing),e("html").addClass(i.pageClosing),t.focus(!1),t.$elem.trigger("dropdown-before-close",t)},_afterClose:function(){var t=this,n=t.instance,o=t.elements,i=t.classes;setTimeout(function(){n.closing=!1,n.open=!1},1),o.dropdown.removeClass(i.closing),o.dropdown.removeClass(i.open),e("html").removeClass(i.pageClosing).removeClass(i.pageOpen),o.overlay.css({display:"",opacity:""}),t.reset(),o.menuWrapper.css({height:""}),t.$elem.trigger("dropdown-after-close",t)},_beforeOpenMenu:function(e,t){var n=this,o=n.instance,i=(n.elements,n.classes),s=n.resize(e.uid);o.opening=!0,e.elem.addClass(i.menuOpening),t.elem.addClass(i.menuClosing),n._scrollSelected(e.uid,s),n.$elem.trigger("dropdown-before-open-menu",[e,t,n])},_afterOpenMenu:function(e,t){var n=this,o=n.instance,i=(n.elements,n.classes);o.opening=!1,t.open=!1,e.open=!0,o.menu.current=e.uid,e.elem.removeClass(i.menuOpening),t.elem.removeClass(i.menuClosing),t.elem.removeClass(i.menuOpen),e.elem.addClass(i.menuOpen),t.elem.find("."+i.core.menuList).eq(0).css({height:""}),n.$elem.trigger("dropdown-after-open-menu",[e,t,n])},_beforeCloseMenu:function(e,t){var n=this,o=n.instance,i=(n.elements,n.classes);t&&n.resize(t.uid),o.closing=!0,e.elem.addClass(i.menuClosing),t&&t.elem.addClass(i.menuOpening),n.$elem.trigger("dropdown-before-close-menu",[e,t,n])},_afterCloseMenu:function(e,t){var n=this,o=n.instance,i=(n.elements,n.classes);o.closing=!1,e.open=!1,t&&(t.open=!0),o.menu.current=t?t.uid:o.menu.main,e.elem.removeClass(i.menuClosing),e.elem.removeClass(i.menuOpen),t&&(t.elem.removeClass(i.menuOpening),t.elem.addClass(i.menuOpen)),e.elem.find("."+i.core.menuList).eq(0).css({height:""}),n.$elem.trigger("dropdown-after-close-menu",[e,t,n])},_beforeResize:function(e,t){{var n=this,o=n.instance;n.elements,n.classes}o.resizing=!0,n.$elem.trigger("dropdown-before-resize",[e,t,n])},_afterResize:function(e,t){var n=this,o=n.instance;o.resizing=!1,n.$elem.trigger("dropdown-after-resize",[e,t,n])},_beforeReset:function(e,t,n){var o=this,i=o.instance;i.resetting=!0,o.$elem.trigger("dropdown-before-reset",[e,t,n,o])},_afterReset:function(e,t,n){var o=this,i=o.instance,s=o.elements,l=o.classes;i.resetting=!1,i.opening=!1,i.closing=!1,i.animating=!1,n.open=!1,t.open=!0,i.menu.current=t.uid,t.elem.removeClass(l.menuOpening),n.elem.removeClass(l.menuClosing),n.elem.removeClass(l.menuOpen),t.elem.addClass(l.menuOpen),s.menuWrapper.css({x:0,y:0}),n.elem.css({x:"-100%"}),t.elem.css({x:0}),s.menuWrapper.css({height:""}),n.elem.find("."+l.core.menuList).eq(0).css({height:""}),o.$elem.trigger("dropdown-after-reset",[e,t,n,o])},_autoResize:function(){var e=this,t=e.instance;t.open&&e.resize(!1,!0)},_collisionValues:function(o,i){var s=this,l=s.instance,a=s.options,r=s.elements,d=(s.classes,{x:e(n).scrollLeft(),y:e(n).scrollTop()}),u={x:"left",y:"bottom"},p={x:r.dropdown.offset().left,y:r.dropdown.offset().top},c={top:p.y-d.y,bottom:e(t).height()+d.y-p.y-r.toggleButton.outerHeight(!0),left:p.x-d.x,right:e(t).width()+d.x-p.x};e.each(c,function(e,t){c[e]=t-a.margin});var m="fixed"==r.menuWrapper.css("position")?!0:!1,g=e.extend({},i.height);g.total=g.menu+g.diff,m?g.menu>g.wrapper&&(g.menu=g.wrapper-g.diff):(g.total>c.bottom||l.above&&g.total>c.top)&&(g.menu=c.bottom-g.diff,c.top>c.bottom&&(u.y="top",g.menu=g.total>c.top?c.top-g.diff:i.height.menu)),g.list=g.menu-(i.height.menu-i.height.list);var f=e.extend({},i.width);return i.collision.height=g,i.collision.width=f,i.collision.scrolled=d,i.collision.position=u,i.collision.offset=p,i.collision.space=c,i},_scrollSelected:function(e,t){var n=this,o=n.instance,i=(n.options,n.elements),s=n.classes;if(e=n.getMenu(e)){o.open||i.menuWrapper.show().css({opacity:0}),e.open||e.elem.show().css({opacity:0});var l=e.elem.children("."+s.core.menuList).eq(0),a=0,r=e.elem.find("."+s.core.selected).eq(0);r.length&&(a=r.position().top,(0>a||a>t.collision.height.list)&&(a+=l.scrollTop()),a-=t.collision.height.menu-t.collision.height.list),l.animate({scrollTop:a},1),o.open||i.menuWrapper.css({display:"",opacity:""}),e.open||e.elem.css({display:"",opacity:""})}},_beforeSelect:function(e,t){var n=this;n.$elem.trigger("dropdown-before-select",[e,t,n])},_afterSelect:function(e,t){var n=this;n.$elem.trigger("dropdown-after-select",[e,t,n])},_mergeClasses:function(){var t=this,n=t.options.classes,o=e.extend({},t.classes),i={};return e.each(o,function(e,t){i.core||(i.core={}),i.core[e]=t;var o=t;n[e]&&(o+=" ",o+=n[e]),i[e]=o}),i},objects:{item:{uid:null,id:null,text:"",value:null,href:!1,html:null,selected:!1,selectable:!0,menu:!1,parent:!1,children:{menu:!1,title:"",items:!1}},menu:{uid:null,id:null,title:"",open:!1,parent:!1,children:!1},resize:{width:{viewport:0,wrapper:0,diff:0,menu:0,list:0},height:{viewport:0,wrapper:0,diff:0,menu:0,list:0},collision:{width:{},height:{},offset:{x:0,y:0},position:{x:"left",y:"bottom"},scrolled:{x:0,y:0},space:{above:0,below:0,left:0,right:0}}}},defaults:{animate:!0,speed:300,autoClose:!0,autoToggle:!0,autoTitle:!0,autoResize:300,nested:!0,multiple:!1,keyboard:!0,maxHeight:0,maxWidth:0,margin:30,toggleText:"Please select",titleText:"Please select",backText:"Back",closeText:"Close",toggleElem:{button:null,text:null},classes:{toggleIcon:"fa fa-sort",backIcon:"fa fa-arrow-left",closeIcon:"fa fa-remove",iconPrev:"fa fa-angle-left",iconNext:"fa fa-angle-right"},templates:{}},templates:{dropdown:"<div />",overlay:"<div />",menuObject:"<div />",menuWrapper:"<div />",menuContainer:"<nav />",menuHeader:"<header />",menuTitle:"<div />",menuMask:"<div />",menuList:'<ul role="menu" />',menuItem:'<li role="presentation" />',menuHeading:'<li role="presentation" />',menuDivider:'<li role="presentation" />',menuLink:'<a href="#" role="menuitem" />',menuText:"<span />",toggleButton:'<a href="#" />',toggleText:"<span />",toggleIcon:"<span />",backButton:'<a href="#" title="Back" />',backText:"<span />",backIcon:"<span />",closeButton:'<a href="#" title="Close" />',closeText:"<span />",closeIcon:"<span />",iconPrev:"<span />",iconNext:"<span />"},classes:{dropdown:"dropdown",overlay:"dropdown-overlay",mainMenu:"dropdown-main-menu",menuObject:"dropdown-menu",menuWrapper:"dropdown-menu-wrapper",menuContainer:"dropdown-menu-container",menuHeader:"dropdown-header",menuTitle:"dropdown-title",menuHeading:"dropdown-heading",menuDivider:"dropdown-divider",menuMask:"dropdown-mask",menuParent:"dropdown-parent",menuChild:"dropdown-child",menuList:"dropdown-list",menuItem:"dropdown-item",menuLink:"dropdown-link",menuText:"dropdown-text",menuAbove:"dropdown-above",backButton:"dropdown-back",backText:"dropdown-text",backIcon:"dropdown-icon",toggleButton:"dropdown-toggle",toggleText:"dropdown-text",toggleIcon:"dropdown-icon",closeButton:"dropdown-close",closeText:"dropdown-text",closeIcon:"dropdown-icon",iconPrev:"dropdown-icon",iconNext:"dropdown-icon",above:"dropdown-above",below:"dropdown-below",open:"dropdown-open",menuOpen:"dropdown-menu-open",closed:"dropdown-closed",disabled:"dropdown-disabled",opening:"dropdown-opening",closing:"dropdown-closing",animating:"dropdown-animating",resize:"dropdown-resizing",loading:"dropdown-loading",menuOpening:"dropdown-menu-opening",menuClosing:"dropdown-menu-closing",selected:"dropdown-selected",selectedParent:"dropdown-parent-selected",focused:"dropdown-focus",pageOpen:"dropdown-open",pageOpening:"dropdown-opening",pageClosing:"dropdown-closing"}},e.fn.dropdown=function(t){var n=arguments;if(t===o||"object"==typeof t)return this.each(function(){e.data(this,"dw.plugin.dropdown")||e.data(this,"dw.plugin.dropdown",new dropdown(this,t))});if("string"==typeof t&&"_"!==t[0]&&"init"!==t){var i;return this.each(function(){var o=e.data(this,"dw.plugin.dropdown");o instanceof dropdown&&"function"==typeof o[t]&&(i=o[t].apply(o,Array.prototype.slice.call(n,1))),"destroy"===t&&e.data(this,"dw.plugin.dropdown",null)}),i!==o?i:this}},t.dw||(t.dw={}),t.dw.dropdown=dropdown}(jQuery,window,document);

/*!
* jQuery Transit - CSS3 transitions and transformations
* (c) 2011-2014 Rico Sta. Cruz
* MIT Licensed.
*
* http://ricostacruz.com/jquery.transit
* http://github.com/rstacruz/jquery.transit
*/

(function(t,e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e(require("jquery"))}else{e(t.jQuery)}})(this,function(t){t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var e=document.createElement("div");var n={};function i(t){if(t in e.style)return t;var n=["Moz","Webkit","O","ms"];var i=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<n.length;++r){var s=n[r]+i;if(s in e.style){return s}}}function r(){e.style[n.transform]="";e.style[n.transform]="rotateY(90deg)";return e.style[n.transform]!==""}var s=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=i("transition");n.transitionDelay=i("transitionDelay");n.transform=i("transform");n.transformOrigin=i("transformOrigin");n.filter=i("Filter");n.transform3d=r();var a={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var o=n.transitionEnd=a[n.transition]||null;for(var u in n){if(n.hasOwnProperty(u)&&typeof t.support[u]==="undefined"){t.support[u]=n[u]}}e=null;t.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new f},set:function(e,i){var r=i;if(!(r instanceof f)){r=new f(r)}if(n.transform==="WebkitTransform"&&!s){e.style[n.transform]=r.toString(true)}else{e.style[n.transform]=r.toString()}t(e).data("transform",r)}};t.cssHooks.transform={set:t.cssHooks["transit:transform"].set};t.cssHooks.filter={get:function(t){return t.style[n.filter]},set:function(t,e){t.style[n.filter]=e}};if(t.fn.jquery<"1.8"){t.cssHooks.transformOrigin={get:function(t){return t.style[n.transformOrigin]},set:function(t,e){t.style[n.transformOrigin]=e}};t.cssHooks.transition={get:function(t){return t.style[n.transition]},set:function(t,e){t.style[n.transition]=e}}}p("scale");p("scaleX");p("scaleY");p("translate");p("rotate");p("rotateX");p("rotateY");p("rotate3d");p("perspective");p("skewX");p("skewY");p("x",true);p("y",true);function f(t){if(typeof t==="string"){this.parse(t)}return this}f.prototype={setFromString:function(t,e){var n=typeof e==="string"?e.split(","):e.constructor===Array?e:[e];n.unshift(t);f.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);if(this.setter[t]){this.setter[t].apply(this,e)}else{this[t]=e.join(",")}},get:function(t){if(this.getter[t]){return this.getter[t].apply(this)}else{return this[t]||0}},setter:{rotate:function(t){this.rotate=b(t,"deg")},rotateX:function(t){this.rotateX=b(t,"deg")},rotateY:function(t){this.rotateY=b(t,"deg")},scale:function(t,e){if(e===undefined){e=t}this.scale=t+","+e},skewX:function(t){this.skewX=b(t,"deg")},skewY:function(t){this.skewY=b(t,"deg")},perspective:function(t){this.perspective=b(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(t!==null&&t!==undefined){this._translateX=b(t,"px")}if(e!==null&&e!==undefined){this._translateY=b(e,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");if(t[0]){t[0]=parseFloat(t[0])}if(t[1]){t[1]=parseFloat(t[1])}return t[0]===t[1]?t[0]:t},rotate3d:function(){var t=(this.rotate3d||"0,0,0,0deg").split(",");for(var e=0;e<=3;++e){if(t[e]){t[e]=parseFloat(t[e])}}if(t[3]){t[3]=b(t[3],"deg")}return t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,n,i){e.setFromString(n,i)})},toString:function(t){var e=[];for(var i in this){if(this.hasOwnProperty(i)){if(!n.transform3d&&(i==="rotateX"||i==="rotateY"||i==="perspective"||i==="transformOrigin")){continue}if(i[0]!=="_"){if(t&&i==="scale"){e.push(i+"3d("+this[i]+",1)")}else if(t&&i==="translate"){e.push(i+"3d("+this[i]+",0)")}else{e.push(i+"("+this[i]+")")}}}}return e.join(" ")}};function c(t,e,n){if(e===true){t.queue(n)}else if(e){t.queue(e,n)}else{t.each(function(){n.call(this)})}}function l(e){var i=[];t.each(e,function(e){e=t.camelCase(e);e=t.transit.propertyMap[e]||t.cssProps[e]||e;e=h(e);if(n[e])e=h(n[e]);if(t.inArray(e,i)===-1){i.push(e)}});return i}function d(e,n,i,r){var s=l(e);if(t.cssEase[i]){i=t.cssEase[i]}var a=""+y(n)+" "+i;if(parseInt(r,10)>0){a+=" "+y(r)}var o=[];t.each(s,function(t,e){o.push(e+" "+a)});return o.join(", ")}t.fn.transition=t.fn.transit=function(e,i,r,s){var a=this;var u=0;var f=true;var l=t.extend(true,{},e);if(typeof i==="function"){s=i;i=undefined}if(typeof i==="object"){r=i.easing;u=i.delay||0;f=typeof i.queue==="undefined"?true:i.queue;s=i.complete;i=i.duration}if(typeof r==="function"){s=r;r=undefined}if(typeof l.easing!=="undefined"){r=l.easing;delete l.easing}if(typeof l.duration!=="undefined"){i=l.duration;delete l.duration}if(typeof l.complete!=="undefined"){s=l.complete;delete l.complete}if(typeof l.queue!=="undefined"){f=l.queue;delete l.queue}if(typeof l.delay!=="undefined"){u=l.delay;delete l.delay}if(typeof i==="undefined"){i=t.fx.speeds._default}if(typeof r==="undefined"){r=t.cssEase._default}i=y(i);var p=d(l,i,r,u);var h=t.transit.enabled&&n.transition;var b=h?parseInt(i,10)+parseInt(u,10):0;if(b===0){var g=function(t){a.css(l);if(s){s.apply(a)}if(t){t()}};c(a,f,g);return a}var m={};var v=function(e){var i=false;var r=function(){if(i){a.unbind(o,r)}if(b>0){a.each(function(){this.style[n.transition]=m[this]||null})}if(typeof s==="function"){s.apply(a)}if(typeof e==="function"){e()}};if(b>0&&o&&t.transit.useTransitionEnd){i=true;a.bind(o,r)}else{window.setTimeout(r,b)}a.each(function(){if(b>0){this.style[n.transition]=p}t(this).css(l)})};var z=function(t){this.offsetWidth;v(t)};c(a,f,z);return this};function p(e,i){if(!i){t.cssNumber[e]=true}t.transit.propertyMap[e]=n.transform;t.cssHooks[e]={get:function(n){var i=t(n).css("transit:transform");return i.get(e)},set:function(n,i){var r=t(n).css("transit:transform");r.setFromString(e,i);t(n).css({"transit:transform":r})}}}function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function b(t,e){if(typeof t==="string"&&!t.match(/^[\-0-9\.]+$/)){return t}else{return""+t+e}}function y(e){var n=e;if(typeof n==="string"&&!n.match(/^[\-0-9\.]+/)){n=t.fx.speeds[n]||t.fx.speeds._default}return b(n,"ms")}t.transit.getTransitionValue=d;return t});